#!/usr/bin/env bash

set -x

echo 0 1 1 | python graphs.py && \
    shasum -c tests/values.shasum && \
    echo "3
5
8" | python graphs.py && \
    shasum -c tests/values_newline_delimited.shasum && \
        echo "13 foo bar
21 baz boz
34 homer marge" | python graphs.py && \
    shasum -c tests/values_with_labels.shasum && \
    python graphs.py 55 89 144 && \
    shasum -c tests/regular_arguments.shasum && \
    python graphs.py '233 carl lenny
377 lisa milhouse
610 burns smithers' && \
    shasum -c tests/regular_args_with_labels.shasum && \
    ruby -e 'x=1; 54.times {puts (x += 1).to_s + " lorem ipsum"}' | \
    python graphs.py && \
    shasum -c tests/many_labels_54.shasum && \
    ruby -e 'x=1; 100.times {puts (x += 1).to_s + " lorem ipsum"}' | \
    python graphs.py && \
    shasum -c tests/many_labels_100.shasum && \
    set +x && \
    echo && \
    echo "SUCCESS! All tests passed OK."
